<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: /home/zoe/Mbed Programs/esp_code/mbed-os/tools/test/examples Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_629adb47fa3afd154965867e0149ebaa.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">examples Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The scripts in this folder are used for testing <code>mbed-os</code> official examples. It contains the following files:</p>
<ul>
<li><code>examples.py</code> - the main script that serves as the command-line interface.</li>
<li><code>examples.json</code> - the default configuration file for the script, which contains the information to the examples. If required, you can pass a customized configuration file as an argument to the script.</li>
<li><code>examples_lib.py</code> - the library file, which contains the main function of the testing scripts.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1168"></a>
The scripts</h1>
<p><code>examples.py</code> provides command-line interface and subcommands that makes easier to test examples. Included subcommands are:</p>
<ul>
<li><b>import</b> - imports each of the repos and its dependencies (.lib files) associated with the specific examples name from the .json configuration file. If there is already a clone of the repo, it will first be removed to ensure a clean, up-to-date cloning.</li>
<li><b>clone</b> - clones each of the repos associated with the specific examples name from the .json configuration file. If there is already a clone of the repo, it will first be removed to ensure a clean, up-to-date cloning.</li>
<li><b>deploy</b> - if the example directory exists as provided by the .json configuration file, pulls in the examples dependencies by using <code>mbed-cli deploy</code>.</li>
<li><b>update</b> - for each example repo identified in the config .json object, updates the version of example to that specified by the supplied GitHub tag. This function assumes that each example repo has already been cloned.</li>
<li><b>compile</b> - compiles combinations of example programs, targets and compile chains.</li>
<li><b>export</b> - exports and builds combinations of example programs, targets and IDEs.</li>
<li><b>list</b> - displays examples in a configuration file in a table.</li>
<li><b>symlink</b> - creates a symbolic link to a given <code>mbed-os</code> PATH.</li>
</ul>
<p>For more detailed options, please use <code>-h</code> or <code>--help</code>.</p>
<h1><a class="anchor" id="autotoc_md1169"></a>
The configuration file</h1>
<p>Here is the section of default configuration file:</p>
<div class="fragment"><div class="line"> {</div>
<div class="line">  &quot;examples&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;mbed-os-example-blinky&quot;,</div>
<div class="line">      &quot;github&quot;: &quot;https://github.com/ARMmbed/mbed-os-example-blinky&quot;,</div>
<div class="line">      &quot;sub-repo-example&quot;: false,</div>
<div class="line">      &quot;subs&quot;: [],</div>
<div class="line">      &quot;features&quot; : [],</div>
<div class="line">      &quot;targets&quot; : [],</div>
<div class="line">      &quot;toolchains&quot; : [],</div>
<div class="line">      &quot;exporters&quot;: [],</div>
<div class="line">      &quot;compile&quot; : true,</div>
<div class="line">      &quot;export&quot;: true,</div>
<div class="line">      &quot;test&quot; : true,</div>
<div class="line">      &quot;baud_rate&quot;: 9600,</div>
<div class="line">      &quot;compare_log&quot;: [&quot;mbed-os-example-blinky/tests/blinky.log&quot;],</div>
<div class="line">      &quot;auto-update&quot; : true</div>
<div class="line">    },</div>
<div class="line">      </div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;mbed-os-example-tls&quot;,</div>
<div class="line">      &quot;github&quot;: &quot;https://github.com/ARMmbed/mbed-os-example-tls&quot;,</div>
<div class="line">      &quot;sub-repo-example&quot;: true,</div>
<div class="line">      &quot;subs&quot;: [</div>
<div class="line">          &quot;benchmark&quot;,</div>
<div class="line">          &quot;tls-client&quot;,</div>
<div class="line">          &quot;hashing&quot;,</div>
<div class="line">          &quot;authcrypt&quot;</div>
<div class="line">      ],</div>
<div class="line">      &quot;features&quot; : [],</div>
<div class="line">      &quot;targets&quot; : [&quot;K66F&quot;, &quot;NUCLEO_F429ZI&quot;],</div>
<div class="line">      &quot;toolchains&quot; : [&quot;GCC_ARM&quot;, &quot;ARM&quot;],</div>
<div class="line">      &quot;exporters&quot;: [],</div>
<div class="line">      &quot;compile&quot; : false,</div>
<div class="line">      &quot;export&quot;: false,</div>
<div class="line">      &quot;test&quot; : false,</div>
<div class="line">      &quot;baud_rate&quot;: 9600,</div>
<div class="line">      &quot;compare_log&quot;: [</div>
<div class="line">          &quot;mbed-os-example-tls/tests/benchmark.log&quot;,</div>
<div class="line">          &quot;mbed-os-example-tls/tests/tls-client.log&quot;,</div>
<div class="line">          &quot;mbed-os-example-tls/tests/hashing.log&quot;,</div>
<div class="line">          &quot;mbed-os-example-tls/tests/authcrypt.log&quot;</div>
<div class="line">      ],</div>
<div class="line">      &quot;auto-update&quot; : true</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1170"></a>
Fields</h2>
<ul>
<li><b>name</b> - name of the example. It should be the base name of the example repository address and will throw if it doesn't match.</li>
<li><b>github</b> - example GitHub repository address.</li>
<li><b>sub-repo-example</b> - specifies if the example repository has a subfolder for each example.</li>
<li><b>subs</b> - array of subexample names.</li>
<li><b>features</b> - the features that must be in the features array of a target in <code>targets.json</code>.</li>
<li><b>baud_rate</b> - example default baud rate.</li>
<li><b>compare_log</b> - array of log compared to command-line output during testing. If the example has many subexamples, the order of log should match the order of subexamples.</li>
<li><b>targets</b> - list of <code>mbed-os</code> development boards that run this example.</li>
<li><b>targets</b> - list of targeted development boards.</li>
<li><b>toolchains</b> - toolchain to use for compiling.</li>
<li><b>exporters</b> - allowed exporters.</li>
<li><b>compile</b> - enables compiling.</li>
<li><b>export</b> - enables exporting.</li>
<li><b>test</b> - enables testing.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1171"></a>
Values</h2>
<p><code>[ ]</code> means all possible alternatives.</p>
<h1><a class="anchor" id="autotoc_md1172"></a>
Typical use</h1>
<p>In the Mbed OS CI, we follow the below steps to compile and test Mbed OS examples.</p>
<ol type="1">
<li><p class="startli">Clone <code>mbed-os</code> repository to the current folder:</p>
<div class="fragment"><div class="line">git clone https://github.com/ARMmbed/mbed-os.git</div>
</div><!-- fragment --></li>
</ol>
<ol type="1">
<li><p class="startli">Clone the examples repo to the current folder. Users can pass an <code>-e</code> option to the script to filter out the rest of the examples, so the scripts only run on one particular example:</p>
<div class="fragment"><div class="line">python mbed-os/tools/test/examples/examples.py clone</div>
</div><!-- fragment --></li>
</ol>
<ol type="1">
<li><p class="startli">Create a symbolic link to <code>mbed-os</code> for every example. This step lets all the examples share a single <code>mbed-os</code> folder, rather than checking out the <code>mbed-os</code> folder many times. We highly recommend you pass an absolute path as the argument:</p>
<div class="fragment"><div class="line">python mbed-os/tools/test/examples/examples.py symlink $PWD/mbed-os</div>
</div><!-- fragment --></li>
</ol>
<ol type="1">
<li><p class="startli">Deploy other dependency libraries:</p>
<div class="fragment"><div class="line">python mbed-os/tools/test/examples/examples.py deploy</div>
</div><!-- fragment --></li>
</ol>
<ol type="1">
<li><p class="startli">Compile the test for the examples on a specific target:</p>
<div class="fragment"><div class="line">python mbed-os/tools/test/examples/examples.py compile -m &lt;target&gt;</div>
</div><!-- fragment --></li>
</ol>
<p>After the compile test finished, the scripts print the result table:</p>
<div class="fragment"><div class="line">Passed example compilation:</div>
<div class="line">+---------------------------------+--------+-----------+----------+--------------+</div>
<div class="line">| EXAMPLE NAME                    | TARGET | TOOLCHAIN | TEST GEN | BUILD RESULT |</div>
<div class="line">+---------------------------------+--------+-----------+----------+--------------+</div>
<div class="line">| mbed-os-example-kvstore         |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-tls-socket      |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-blockdevice     |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-wifi            |  K64F  |  GCC_ARM  | TEST_OFF |    PASSED    |</div>
<div class="line">| mbed-os-example-error-handling  |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-sd-driver       |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-crash-reporting |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-filesystem      |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-blinky          |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-cpu-stats       |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-sys-info        |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">| mbed-os-example-attestation     |  K64F  |  GCC_ARM  | TEST_ON  |    PASSED    |</div>
<div class="line">+---------------------------------+--------+-----------+----------+--------------+</div>
<div class="line">Number of failures = 0</div>
</div><!-- fragment --><p>After the compilation stage, a <code>test_spec.json</code> file is generated. Later, Greentea tests will consume this file. They test the compiled example on hardware platform. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_2c8b9244d4dfc30493151356bf56d9e2.html">tools</a></li><li class="navelem"><a class="el" href="dir_2a7ee0f0bc2605757bb36d0b2b5cec9e.html">test</a></li><li class="navelem"><a class="el" href="dir_629adb47fa3afd154965867e0149ebaa.html">examples</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
