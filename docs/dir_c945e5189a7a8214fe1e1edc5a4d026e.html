<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: /home/zoe/Mbed Programs/esp_code/mbed-os/connectivity/drivers/mbedtls/FEATURE_CRYPTOCELL310 Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_c945e5189a7a8214fe1e1edc5a4d026e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FEATURE_CRYPTOCELL310 Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_7301cc40f9225d76b0d535cf259822b4.html">source</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_fcc1fbb1b1597ece292a5863c05ab7c5.html">TARGET_MCU_NRF52840</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Cryptocell (CC) 310 is a hardware accelerator you can port to boards that have CC 310 embedded in their hardware.</p>
<p>The CC 310 driver consists of three libraries:</p>
<ul>
<li>A common core library (<code>libcc_core.a</code>).</li>
<li>A platform-specific TRNG library containing TRNG-related information for sampling sufficient entropy on the specific platform (<code>libcc_trng.a</code>).</li>
<li>A platform-specific library containing extra information, such as the CC register's base addresses on the specific board (<code>libcc_ext.a</code>).</li>
</ul>
<p>Library version information:</p>
<ul>
<li>The CC 310 libraries were built from version <code>arm_sw-cc310-1.1.0.1285</code>.</li>
<li>The <code>IAR</code> libraries were built using <code>IAR ANSI C/C++ Compiler V7.80.1.11864/W32 for ARM</code> with <code>--cpu Cortex-M4f</code>.</li>
<li>The <code>ARM</code> libraries were built using <code>ARM Compiler 5.06 update 4 (build 422)</code> with <code>--cpu cortex-m4</code>.</li>
<li>The <code>GCC_ARM</code> libraries were built using <code>arm-none-eabi-gcc 6.3.1 20170620 (release)</code> with <code>-mcpu=cortex-m4</code>.</li>
</ul>
<p>To port your CC 310 driver to Mbed OS on your specific target:</p>
<ol type="1">
<li>In <code>targets.json</code>, add the following to your target:<ul>
<li><code>MBEDTLS_CONFIG_HW_SUPPORT</code> to <code>macros_add</code> key. This instructs Mbed TLS to look for an alternative cryptographic implementation.</li>
<li><code>CRYPTOCELL310</code> to <code>feature</code>. Use this in your common code that you need to remove from compilation in case CC exists in your board. Use <code>#if !defined(FEATURE_CRYPTOCELL310)</code> and <code>#if defined(FEATURE_CRYPTOCELL310)</code>.</li>
</ul>
</li>
</ol>
<ol type="1">
<li>In <code><a class="el" href="objects_8h_source.html">objects.h</a></code>, include <code><a class="el" href="objects__cryptocell_8h_source.html">objects_cryptocell.h</a></code>. You can use the <code>FEATURE_CRYPTOCELL310</code> precompilation check as defined above.</li>
</ol>
<ol type="1">
<li>In <code>features/cryptocell/FEATURE_CRYPTOCELL310/TARGET_&lt;target name&gt;</code>, add your platform-specific libraries for all toolchains in <code>TOOLCHAIN_ARM</code>, <code>TOOLCHAIN_GCC_ARM</code> and <code>TOOLCHAIN_IAR</code> respectively.</li>
</ol>
<ol type="1">
<li>Add your CC setup code:<ul>
<li>Implement <code>crypto_platform_setup()</code> and <code>crypto_platform_terminate()</code> to enable CC on your platform, in case you have board-specific setup functionality, required for CC setup. You MUST call <code><a class="el" href="group__sns__silib.html#ga21825426e3436b85dd10101765139276" title="This function Perform global initialization of the ARM CryptoCell 3xx runtime library; it must be cal...">SaSi_LibInit()</a></code> and <code><a class="el" href="group__sns__silib.html#ga8df5a2fb5e01baec0bd19d835ed962f2" title="This function finalize the library operations. It frees the associated resources (mutexes) and call h...">SaSi_LibFini()</a></code> in these functions.</li>
<li>Define <code>crypto_platform_ctx</code> in <code><a class="el" href="crypto__device__platform_8h_source.html">crypto_device_platform.h</a></code> in a way that suits your implementation.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md145"></a>
Enabling optional alternative drivers</h1>
<p>Three additional modules that are not enabled by default have alternative implementation support. This allows backward compatibility because these modules don't have full functionality and returns <code>MBEDTLS_ERR_PLATFORM_FEATURE_UNSUPPORTED</code> for some features. The modules are:</p>
<ul>
<li><code>AES</code>, which only supports 128 bit key size, as opposed to previous support for all key sizes.</li>
<li><code>CMAC</code>, which only supports AES 128 bit key size, as opposed to previous support for DES and all key sizes.</li>
<li><code>SHA512</code>, which only supports SHA512, as opposed to previous support for SHA384, as well.</li>
</ul>
<p>To enable these modules, define <code>MBEDTLS_AES_ALT</code>, <code>MBEDTLS_CMAC_ALT</code> and <code>MBEDTLS_SHA512_ALT</code>, either in <code>mbed_app.json</code> or in your <code>MBEDTLS_USER_CONFIG_FILE</code>, to have hardware accelerated module with reduced RAM size, on the expense of full functionality. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_59977a0c207738c890dea4a1d368376e.html">drivers</a></li><li class="navelem"><a class="el" href="dir_d03599bb5037acf08bca63ef92fdf25a.html">mbedtls</a></li><li class="navelem"><a class="el" href="dir_c945e5189a7a8214fe1e1edc5a4d026e.html">FEATURE_CRYPTOCELL310</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
