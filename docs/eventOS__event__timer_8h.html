<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: /home/zoe/Mbed Programs/esp_code/mbed-os/connectivity/nanostack/sal-stack-nanostack-eventloop/nanostack-event-loop/eventOS_event_timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('eventOS__event__timer_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">eventOS_event_timer.h File Reference<div class="ingroups"><a class="el" href="group__nanostack-eventloop.html">Nanostack's event system.</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions for sending delayed events.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ns__types_8h_source.html">ns_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eventOS__event_8h_source.html">eventOS_event.h</a>&quot;</code><br />
</div>
<p><a href="eventOS__event__timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac4d83daa63beb0c78f2a839fb2007913" id="r_ac4d83daa63beb0c78f2a839fb2007913"><td class="memItemLeft" align="right" valign="top"><a id="ac4d83daa63beb0c78f2a839fb2007913" name="ac4d83daa63beb0c78f2a839fb2007913"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EVENTOS_EVENT_TIMER_HZ</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ac4d83daa63beb0c78f2a839fb2007913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f28e828c0e8d18418ff7ad19b45749" id="r_a49f28e828c0e8d18418ff7ad19b45749"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49f28e828c0e8d18418ff7ad19b45749">TICKS_AFTER</a>(a,  b)</td></tr>
<tr class="separator:a49f28e828c0e8d18418ff7ad19b45749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6655345c8ceffd50df35c423bea8246e" id="r_a6655345c8ceffd50df35c423bea8246e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6655345c8ceffd50df35c423bea8246e">TICKS_BEFORE</a>(a,  b)</td></tr>
<tr class="separator:a6655345c8ceffd50df35c423bea8246e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba3ec2f85f9a2924af92d0791851733" id="r_aeba3ec2f85f9a2924af92d0791851733"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeba3ec2f85f9a2924af92d0791851733">TICKS_AFTER_OR_AT</a>(a,  b)</td></tr>
<tr class="separator:aeba3ec2f85f9a2924af92d0791851733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86882a89176b6efd152aaf34bbd8432b" id="r_a86882a89176b6efd152aaf34bbd8432b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86882a89176b6efd152aaf34bbd8432b">TICKS_BEFORE_OR_AT</a>(a,  b)</td></tr>
<tr class="separator:a86882a89176b6efd152aaf34bbd8432b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6698fd632c7744e98131e9a3f336ce24" id="r_a6698fd632c7744e98131e9a3f336ce24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6698fd632c7744e98131e9a3f336ce24">eventOS_event_timer_request_after</a>(event,  after)</td></tr>
<tr class="separator:a6698fd632c7744e98131e9a3f336ce24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a89b514890c71cc6256c5dc2c098a48c3" id="r_a89b514890c71cc6256c5dc2c098a48c3"><td class="memItemLeft" align="right" valign="top"><a id="a89b514890c71cc6256c5dc2c098a48c3" name="a89b514890c71cc6256c5dc2c098a48c3"></a>
typedef struct <a class="el" href="structsys__timer__struct__s.html">sys_timer_struct_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>sys_timer_struct_t</b></td></tr>
<tr class="separator:a89b514890c71cc6256c5dc2c098a48c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d46a8c936d480b384c91ba538d32aa" id="r_ad4d46a8c936d480b384c91ba538d32aa"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtimeout__entry__t.html">timeout_entry_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a></td></tr>
<tr class="separator:ad4d46a8c936d480b384c91ba538d32aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af91c37054008168285ed494c772584d1" id="r_af91c37054008168285ed494c772584d1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af91c37054008168285ed494c772584d1">eventOS_event_timer_ticks</a> (void)</td></tr>
<tr class="separator:af91c37054008168285ed494c772584d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba04bb6543d6a966890656366696a923" id="r_aba04bb6543d6a966890656366696a923"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba04bb6543d6a966890656366696a923">eventOS_event_timer_request</a> (uint8_t event_id, uint8_t event_type, int8_t tasklet_id, uint32_t time)</td></tr>
<tr class="separator:aba04bb6543d6a966890656366696a923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c2ccd554becd04eff1fc2c3360a895" id="r_a98c2ccd554becd04eff1fc2c3360a895"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98c2ccd554becd04eff1fc2c3360a895">eventOS_event_timer_request_at</a> (const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *event, uint32_t at)</td></tr>
<tr class="separator:a98c2ccd554becd04eff1fc2c3360a895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7a87ec0e3bea272bbce424c5837110" id="r_a9f7a87ec0e3bea272bbce424c5837110"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f7a87ec0e3bea272bbce424c5837110">eventOS_event_timer_request_in</a> (const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *event, int32_t in)</td></tr>
<tr class="separator:a9f7a87ec0e3bea272bbce424c5837110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1406d06ff866abf813c7bec09584b26f" id="r_a1406d06ff866abf813c7bec09584b26f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1406d06ff866abf813c7bec09584b26f">eventOS_event_timer_request_every</a> (const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *event, int32_t period)</td></tr>
<tr class="separator:a1406d06ff866abf813c7bec09584b26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d8d46a65c46171137670752726c0b2" id="r_a66d8d46a65c46171137670752726c0b2"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66d8d46a65c46171137670752726c0b2">eventOS_event_timer_cancel</a> (uint8_t event_id, int8_t tasklet_id)</td></tr>
<tr class="separator:a66d8d46a65c46171137670752726c0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ccc0b17de0d2d4d77d630045197cdf" id="r_a80ccc0b17de0d2d4d77d630045197cdf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80ccc0b17de0d2d4d77d630045197cdf">eventOS_event_timer_shortest_active_timer</a> (void)</td></tr>
<tr class="separator:a80ccc0b17de0d2d4d77d630045197cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934b77d237d12fc37a5a0b94d27a1b6d" id="r_a934b77d237d12fc37a5a0b94d27a1b6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a934b77d237d12fc37a5a0b94d27a1b6d">eventOS_timeout_ms</a> (void(*callback)(void *), uint32_t ms, void *arg)</td></tr>
<tr class="separator:a934b77d237d12fc37a5a0b94d27a1b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbe5523ec33957223d8b9768dea52af" id="r_accbe5523ec33957223d8b9768dea52af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accbe5523ec33957223d8b9768dea52af">eventOS_timeout_every_ms</a> (void(*callback)(void *), uint32_t every, void *arg)</td></tr>
<tr class="separator:accbe5523ec33957223d8b9768dea52af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcf1f80f40cdb4edaf3c7ab0a525768" id="r_aafcf1f80f40cdb4edaf3c7ab0a525768"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafcf1f80f40cdb4edaf3c7ab0a525768">eventOS_timeout_cancel</a> (<a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> *t)</td></tr>
<tr class="separator:aafcf1f80f40cdb4edaf3c7ab0a525768"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for sending delayed events. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6698fd632c7744e98131e9a3f336ce24" name="a6698fd632c7744e98131e9a3f336ce24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6698fd632c7744e98131e9a3f336ce24">&#9670;&#160;</a></span>eventOS_event_timer_request_after</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define eventOS_event_timer_request_after</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>after</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="#a9f7a87ec0e3bea272bbce424c5837110">eventOS_event_timer_request_in</a>(event, (after) + 1)</div>
<div class="ttc" id="aeventOS__event__timer_8h_html_a9f7a87ec0e3bea272bbce424c5837110"><div class="ttname"><a href="#a9f7a87ec0e3bea272bbce424c5837110">eventOS_event_timer_request_in</a></div><div class="ttdeci">arm_event_storage_t * eventOS_event_timer_request_in(const struct arm_event_s *event, int32_t in)</div></div>
</div><!-- fragment --><p>Send an event after a specified time</p>
<p>The event will be sent after the specified number of ticks - to be precise, it is equivalent to requesting an event at</p>
<p><a class="el" href="#af91c37054008168285ed494c772584d1">eventOS_event_timer_ticks()</a> + ticks + 1</p>
<p>Because of timer granularity, the elapsed time between issuing the request and it running may be up to 1 tick more than the specified time.</p>
<p>eg requesting 2 ticks will cause the event to be sent on the third tick from now. If requested just after a tick, the delay will be nearly 3 ticks, but if requested just before a tick, the delay will be just over 2 ticks.</p>
<p>If <code>after</code> is &lt; 0, the event will be sent immediately. If it is 0, the event is sent on the next tick.</p>
<p>Can also be invoked using the <a class="el" href="eventOS__event_8h.html#abc3fdb6c059494afee1592dc73cdf552">eventOS_event_send_after()</a> macro in <a class="el" href="eventOS__event_8h.html" title="Nanostack&#39;s event loop.">eventOS_event.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to send </td></tr>
    <tr><td class="paramname">after</td><td>tick delay for event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timer structure on success </dd>
<dd>
NULL on error (invalid tasklet_id or allocation failure) </dd></dl>

</div>
</div>
<a id="a49f28e828c0e8d18418ff7ad19b45749" name="a49f28e828c0e8d18418ff7ad19b45749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49f28e828c0e8d18418ff7ad19b45749">&#9670;&#160;</a></span>TICKS_AFTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_AFTER</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((int32_t) ((a)-(b)) &gt; 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeba3ec2f85f9a2924af92d0791851733" name="aeba3ec2f85f9a2924af92d0791851733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba3ec2f85f9a2924af92d0791851733">&#9670;&#160;</a></span>TICKS_AFTER_OR_AT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_AFTER_OR_AT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((int32_t) ((a)-(b)) &gt;= 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6655345c8ceffd50df35c423bea8246e" name="a6655345c8ceffd50df35c423bea8246e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6655345c8ceffd50df35c423bea8246e">&#9670;&#160;</a></span>TICKS_BEFORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_BEFORE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((int32_t) ((a)-(b)) &lt; 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a86882a89176b6efd152aaf34bbd8432b" name="a86882a89176b6efd152aaf34bbd8432b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86882a89176b6efd152aaf34bbd8432b">&#9670;&#160;</a></span>TICKS_BEFORE_OR_AT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_BEFORE_OR_AT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((int32_t) ((a)-(b)) &lt;= 0)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ad4d46a8c936d480b384c91ba538d32aa" name="ad4d46a8c936d480b384c91ba538d32aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d46a8c936d480b384c91ba538d32aa">&#9670;&#160;</a></span>timeout_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtimeout__entry__t.html">timeout_entry_t</a> <a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classTimeout.html">Timeout</a> structure. Not to be modified by user </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a66d8d46a65c46171137670752726c0b2" name="a66d8d46a65c46171137670752726c0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d8d46a65c46171137670752726c0b2">&#9670;&#160;</a></span>eventOS_event_timer_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t eventOS_event_timer_cancel </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>event_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>tasklet_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cancel an event timer</p>
<p>This cancels a pending timed event, matched by event_id and tasklet_id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event_id</td><td>event_id for event </td></tr>
    <tr><td class="paramname">tasklet_id</td><td>receiver for event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd>
<dd>
-1 on error (event not found) </dd></dl>

</div>
</div>
<a id="aba04bb6543d6a966890656366696a923" name="aba04bb6543d6a966890656366696a923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba04bb6543d6a966890656366696a923">&#9670;&#160;</a></span>eventOS_event_timer_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t eventOS_event_timer_request </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>event_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>event_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t</td>          <td class="paramname"><span class="paramname"><em>tasklet_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send an event after time expired (in milliseconds)</p>
<p>Note that the current implementation has the "feature" that rounding varies depending on the precise timing requested: 0-20 ms =&gt; 2 x 10ms tick 21-29 ms =&gt; 3 x 10ms tick 30-39 ms =&gt; 4 x 10ms tick 40-49 ms =&gt; 5 x 10ms tick ... etc</p>
<p>For improved flexibility on the event, and for more control of time, you should use <a class="el" href="#a98c2ccd554becd04eff1fc2c3360a895">eventOS_event_timer_request_at()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event_id</td><td>event_id for event </td></tr>
    <tr><td class="paramname">event_type</td><td>event_type for event </td></tr>
    <tr><td class="paramname">tasklet_id</td><td>receiver for event </td></tr>
    <tr><td class="paramname">time</td><td>time to sleep in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd>
<dd>
-1 on error (invalid tasklet_id or allocation failure) </dd></dl>

</div>
</div>
<a id="a98c2ccd554becd04eff1fc2c3360a895" name="a98c2ccd554becd04eff1fc2c3360a895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c2ccd554becd04eff1fc2c3360a895">&#9670;&#160;</a></span>eventOS_event_timer_request_at()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> * eventOS_event_timer_request_at </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>at</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send an event at specified time</p>
<p>The event will be sent when <a class="el" href="#af91c37054008168285ed494c772584d1">eventOS_event_timer_ticks()</a> reaches the specified value.</p>
<p>If the specified time is in the past (ie "at" is before or at the current tick value), the event will be sent immediately.</p>
<p>Can also be invoked using the <a class="el" href="eventOS__event_8h.html#a33fbeb152ceba86b0fc096618aaf48ec">eventOS_event_send_at()</a> macro in <a class="el" href="eventOS__event_8h.html" title="Nanostack&#39;s event loop.">eventOS_event.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to send </td></tr>
    <tr><td class="paramname">at</td><td>absolute tick time to run event at</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timer structure on success </dd>
<dd>
NULL on error (invalid tasklet_id or allocation failure) </dd></dl>

</div>
</div>
<a id="a1406d06ff866abf813c7bec09584b26f" name="a1406d06ff866abf813c7bec09584b26f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1406d06ff866abf813c7bec09584b26f">&#9670;&#160;</a></span>eventOS_event_timer_request_every()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> * eventOS_event_timer_request_every </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>period</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send an event periodically</p>
<p>The event will be sent repeatedly using the specified ticks period.</p>
<p>The first call is sent at </p><pre class="fragment">     eventOS_event_timer_ticks() +  ticks
</pre><p>Subsequent events will be sent at N*ticks from the initial time.</p>
<p>Period will be maintained while the device is awake, regardless of delays to event scheduling. If an event has not been delivered and completed by the next scheduled time, the next event will be sent immediately when it finishes. This could cause a continuous stream of events if unable to keep up with the period.</p>
<p>Can also be invoked using the <a class="el" href="eventOS__event_8h.html#a7492466fc7d44d516597f1040634634d">eventOS_event_send_every()</a> macro in <a class="el" href="eventOS__event_8h.html" title="Nanostack&#39;s event loop.">eventOS_event.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to send </td></tr>
    <tr><td class="paramname">period</td><td>period for event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timer structure on success </dd>
<dd>
NULL on error (invalid tasklet_id or allocation failure) </dd></dl>

</div>
</div>
<a id="a9f7a87ec0e3bea272bbce424c5837110" name="a9f7a87ec0e3bea272bbce424c5837110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7a87ec0e3bea272bbce424c5837110">&#9670;&#160;</a></span>eventOS_event_timer_request_in()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structarm__event__storage.html">arm_event_storage_t</a> * eventOS_event_timer_request_in </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structarm__event__s.html">arm_event_s</a> *</td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t</td>          <td class="paramname"><span class="paramname"><em>in</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send an event in a specified time</p>
<p>The event will be sent in the specified number of ticks - to be precise, it is equivalent to requesting an event at</p>
<p><a class="el" href="#af91c37054008168285ed494c772584d1">eventOS_event_timer_ticks()</a> + ticks</p>
<p>Because of timer granularity, the elapsed time between issuing the request and it running may be up to 1 tick less than the specified time.</p>
<p>eg requesting 2 ticks will cause the event to be sent on the second tick from now. If requested just after a tick, the delay will be nearly 2 ticks, but if requested just before a tick, the delay will be just over 1 tick.</p>
<p>If <code>in</code> is &lt;= 0, the event will be sent immediately.</p>
<p>Can also be invoked using the <a class="el" href="eventOS__event_8h.html#a3e4f3ddbd2bbf4f585fcf8c88e5c509d">eventOS_event_send_in()</a> macro in <a class="el" href="eventOS__event_8h.html" title="Nanostack&#39;s event loop.">eventOS_event.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to send </td></tr>
    <tr><td class="paramname">in</td><td>tick delay for event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timer structure on success </dd>
<dd>
NULL on error (invalid tasklet_id or allocation failure) </dd></dl>

</div>
</div>
<a id="a80ccc0b17de0d2d4d77d630045197cdf" name="a80ccc0b17de0d2d4d77d630045197cdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ccc0b17de0d2d4d77d630045197cdf">&#9670;&#160;</a></span>eventOS_event_timer_shortest_active_timer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t eventOS_event_timer_shortest_active_timer </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>System Timer shortest time in milli seconds</p>
<dl class="section return"><dt>Returns</dt><dd>zero, if no timers are active. </dd>
<dd>
time in milliseconds to next timer event. </dd></dl>

</div>
</div>
<a id="af91c37054008168285ed494c772584d1" name="af91c37054008168285ed494c772584d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af91c37054008168285ed494c772584d1">&#9670;&#160;</a></span>eventOS_event_timer_ticks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t eventOS_event_timer_ticks </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read current timer tick count.</p>
<p>Can be used as a monotonic time source, and to schedule events with eventOS_event_timer_send.</p>
<p>Note that the value will wrap, so take care on comparisons.</p>
<dl class="section return"><dt>Returns</dt><dd>tick count. </dd></dl>

</div>
</div>
<a id="aafcf1f80f40cdb4edaf3c7ab0a525768" name="aafcf1f80f40cdb4edaf3c7ab0a525768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafcf1f80f40cdb4edaf3c7ab0a525768">&#9670;&#160;</a></span>eventOS_timeout_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eventOS_timeout_cancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> *</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cancell timeout request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>timeout request id. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accbe5523ec33957223d8b9768dea52af" name="accbe5523ec33957223d8b9768dea52af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbe5523ec33957223d8b9768dea52af">&#9670;&#160;</a></span>eventOS_timeout_every_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> * eventOS_timeout_every_ms </td>
          <td>(</td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>callback&#160;</em></span>)(void *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>every</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request periodic callback.</p>
<p>Create timeout request for specific callback. Called periodically until <a class="el" href="#aafcf1f80f40cdb4edaf3c7ab0a525768">eventOS_timeout_cancel()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">every</td><td>period in milliseconds. Maximum range is same as for <a class="el" href="#aba04bb6543d6a966890656366696a923">eventOS_event_timer_request()</a>. </td></tr>
    <tr><td class="paramname">callback</td><td>function to call after timeout </td></tr>
    <tr><td class="paramname">arg</td><td>arquement to pass to callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timeout structure or NULL on errors </dd></dl>

</div>
</div>
<a id="a934b77d237d12fc37a5a0b94d27a1b6d" name="a934b77d237d12fc37a5a0b94d27a1b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934b77d237d12fc37a5a0b94d27a1b6d">&#9670;&#160;</a></span>eventOS_timeout_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ad4d46a8c936d480b384c91ba538d32aa">timeout_t</a> * eventOS_timeout_ms </td>
          <td>(</td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>callback&#160;</em></span>)(void *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Request timeout callback.</p>
<p>Create timeout request for specific callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>timeout in milliseconds. Maximum range is same as for <a class="el" href="#aba04bb6543d6a966890656366696a923">eventOS_event_timer_request()</a>. </td></tr>
    <tr><td class="paramname">callback</td><td>function to call after timeout </td></tr>
    <tr><td class="paramname">arg</td><td>arquement to pass to callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to timeout structure or NULL on errors </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_bf6e9fbf979cbf4841d7c2ac9c16af92.html">nanostack</a></li><li class="navelem"><a class="el" href="dir_cac8dcea1e96cabc3f2c77e73837a145.html">sal-stack-nanostack-eventloop</a></li><li class="navelem"><a class="el" href="dir_22ebe8310bfe700a4ce8d19b54232f3a.html">nanostack-event-loop</a></li><li class="navelem"><a class="el" href="eventOS__event__timer_8h.html">eventOS_event_timer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
