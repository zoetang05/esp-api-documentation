<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: wait_api functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__platform__wait__api.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">wait_api functions<div class="ingroups"><a class="el" href="group__platform-public-api.html">Platform</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga202f4dc1540178f9b6adf5c2d53491e1" id="r_ga202f4dc1540178f9b6adf5c2d53491e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga202f4dc1540178f9b6adf5c2d53491e1">wait_us</a> (int us)</td></tr>
<tr class="separator:ga202f4dc1540178f9b6adf5c2d53491e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga569a6a414fb3a284e9811ede010dc409" id="r_ga569a6a414fb3a284e9811ede010dc409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga569a6a414fb3a284e9811ede010dc409">wait_ns</a> (unsigned int ns)</td></tr>
<tr class="separator:ga569a6a414fb3a284e9811ede010dc409"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga569a6a414fb3a284e9811ede010dc409" name="ga569a6a414fb3a284e9811ede010dc409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga569a6a414fb3a284e9811ede010dc409">&#9670;&#160;</a></span>wait_ns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait_ns </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>ns</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits a number of nanoseconds.</p>
<p>This function spins the CPU to produce a small delay. It should normally only be used for delays of 10us (10000ns) or less. As it is calculated based on the expected execution time of a software loop, it may well run slower than requested based on activity from other threads and interrupts. If greater precision is required, this can be called from inside a critical section.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>the number of nanoseconds to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="#ga202f4dc1540178f9b6adf5c2d53491e1">wait_us()</a> will likely give more precise time than wait_ns for large-enough delays, as it is based on a timer, but its set-up time may be excessive for the smallest microsecond counts, at which point <a class="el" href="#ga569a6a414fb3a284e9811ede010dc409">wait_ns()</a> is better.</dd>
<dd>
Any delay larger than a millisecond (1000000ns) is liable to cause overflow in the internal loop calculation. You shouldn't normally be using this for such large delays anyway in real code, but be aware if calibrating. Make repeated calls for longer test runs.</dd>
<dd>
You may call this function from ISR context. </dd></dl>

</div>
</div>
<a id="ga202f4dc1540178f9b6adf5c2d53491e1" name="ga202f4dc1540178f9b6adf5c2d53491e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga202f4dc1540178f9b6adf5c2d53491e1">&#9670;&#160;</a></span>wait_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait_us </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>us</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generic wait functions.</p>
<p>These provide simple NOP type wait capabilities.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;mbed.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Blinking rate in milliseconds</span></div>
<div class="line"><span class="preprocessor">#define BLINKING_RATE_MS   500</span></div>
<div class="line">DigitalOut  led(LED2);</div>
<div class="line">InterruptIn button(SW2);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> blink_led() {</div>
<div class="line">    led = 1;</div>
<div class="line">    <a class="code hl_function" href="#ga202f4dc1540178f9b6adf5c2d53491e1">wait_us</a>(BLINKING_RATE_MS * 1000);</div>
<div class="line">    led = 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    button.fall(&amp;blink_led);</div>
<div class="line">    <span class="keywordflow">while</span>(1) {</div>
<div class="line">        <span class="comment">// Do nothing</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__platform__wait__api_html_ga202f4dc1540178f9b6adf5c2d53491e1"><div class="ttname"><a href="#ga202f4dc1540178f9b6adf5c2d53491e1">wait_us</a></div><div class="ttdeci">void wait_us(int us)</div><div class="ttdef"><b>Definition</b> mbed_wait_api_no_rtos.c:61</div></div>
</div><!-- fragment --><p> Waits a number of microseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">us</td><td>the whole number of microseconds to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function always spins to get the exact number of microseconds. This will affect power and multithread performance. Therefore, spinning for millisecond wait is not recommended, and ThisThread::sleep_for should be used instead.</dd>
<dd>
You may call this function from ISR context, but large delays may impact system stability - interrupt handlers should take less than 50us. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
