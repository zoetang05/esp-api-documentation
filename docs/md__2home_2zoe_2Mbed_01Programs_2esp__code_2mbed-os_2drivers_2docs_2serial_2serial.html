<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: Serial design document</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__2home_2zoe_2Mbed_01Programs_2esp__code_2mbed-os_2drivers_2docs_2serial_2serial.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Serial design document</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md626"></a></p>
<h1><a class="anchor" id="autotoc_md627"></a>
Table of contents</h1>
<ol type="1">
<li>Serial design document.</li>
</ol>
<ol type="1">
<li>Table of contents.<ol type="a">
<li>Revision history.</li>
</ol>
</li>
</ol>
<ol type="1">
<li>Introduction.<ol type="a">
<li>Overview and background.</li>
</ol>
<ol type="a">
<li>Requirements and assumptions.</li>
</ol>
</li>
</ol>
<ol type="1">
<li>System architecture and high-level design.<ol type="a">
<li>System architecture and component interaction.</li>
</ol>
</li>
</ol>
<ol type="1">
<li>Detailed design.</li>
</ol>
<ol type="1">
<li>Usage scenarios and examples.</li>
</ol>
<ol type="1">
<li>Other Work.<ol type="a">
<li>Related work-Simplification of retarget code.</li>
</ol>
<ol type="a">
<li>Future Work-Deprecation of Stream.</li>
</ol>
</li>
</ol>
<ol type="1">
<li>Roll-out Plan.</li>
</ol>
<ol type="1">
<li>Tools and configuration changes.</li>
</ol>
<ol type="1">
<li>Other information.<ol type="a">
<li>Deprecations.</li>
</ol>
<ol type="a">
<li>References.</li>
</ol>
</li>
</ol>
<h3><a class="anchor" id="autotoc_md628"></a>
Revision history</h3>
<p>1.0 - Initial version - Evelyne Donnaes - 04/10/2019</p>
<h1><a class="anchor" id="autotoc_md629"></a>
Introduction</h1>
<h3><a class="anchor" id="autotoc_md630"></a>
Overview and background</h3>
<p>Mbed OS contains multiple serial classes and multiple ways of printing information to the console. Serial classes have evolved over the years to add new functionality to existing classes and compensate for limitations. The result is that there are now multiple variants, not always well documented; therefore it is not clear which class should be used for what purpose. Furthermore, some of the classes pull substantial dependencies whose benefits are not very clear, for example standard library like objects and abstractions, and parts of the system I/O function retarget layer.</p>
<p>This document collects proposals made by various contributors (see references) and presents a simplified serial class hierarchy. The aim is to offer two public classes, one for unbuffered I/O and the other for buffered I/O, with a clear definition of which one should be used when. All other serial classes are deprecated and should be removed at a later stage. In addition, the serial classes dependencies will be optimised to only include components that provide valuable functionality.</p>
<h4><a class="anchor" id="autotoc_md631"></a>
Serial classes in Mbed OS 5.14</h4>
<p><b>Serial</b></p>
<p><code>Serial</code> provides unbuffered I/O and is using blocking HAL calls. It only works for simple printing.</p>
<p>Its main limitations are:</p><ul>
<li>It uses a mutex lock so it cannot be used from interrupts.</li>
<li>It wastes a lot of CPU time spinning waiting for serial output and it cannot be used reliably for input because it needs interrupt-speed response on read calls but its high-level API cannot be used from interrupts.</li>
<li>It lacks buffering so it cannot be used reliably for input and output without flow control.</li>
<li>It pulls in the C library stdio system because it uses <code>Stream</code>.</li>
<li>Although it is a <code>FileHandle</code>, its implementation is blocking only and has incorrect read semantics.</li>
</ul>
<p><b>UARTSerial</b></p>
<p><code>UARTSerial</code> provides buffered I/O. It can be used reliably for input from non-interrupt context and to avoid excess spinning waiting for transmission buffer space. It also does better blocking and correct POSIX-like <code>FileHandle</code> semantics.</p>
<p>It does not use <code>Stream</code> so it has the advantage of not pulling in the C stdio library. The drawback is that it doesn't include built-in printf methods, see Usage scenarios and examples for an example on how to print to a serial port.</p>
<p><b>RawSerial</b></p>
<p><code>RawSerial</code> provides unbuffered I/O. It has no locks so it is safe to use in interrupts provided that it is the only instance that is using that serial port. Unlike <code>Serial</code> and <code>UARTSerial</code>, it is not a <code>FileHandle</code>.</p>
<h3><a class="anchor" id="autotoc_md632"></a>
Requirements and assumptions</h3>
<p>None</p>
<h1><a class="anchor" id="autotoc_md633"></a>
System architecture and high-level design</h1>
<p>Applications will have a choice between two public serial classes:</p><ul>
<li><code>BufferedSerial</code> should be the default choice for an application, except for specialised cases.</li>
<li><code>UnbufferedSerial</code> for an interrupt driven application or one that needs to have more control.</li>
</ul>
<h3><a class="anchor" id="autotoc_md634"></a>
System architecture and component interaction</h3>
<p>The below diagram shows the inheritance hierarchy for the serial classes.</p>
<p><img src="./diagrams/serial-classes.png" alt="Serial classes" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md635"></a>
Detailed design</h1>
<h3><a class="anchor" id="autotoc_md636"></a>
Detailed design : BufferedSerial</h3>
<p><code>BufferedSerial</code> is <code>UARTSerial</code> renamed to convey the original purpose of the class. In addition, the new class will allow configurability of the transmit and receive buffer size so that each instance of the class can configure its buffer size according to its intended usage, for example a modem may need a large input buffer and a console may not need any input buffer.</p>
<p>The below diagram shows the detailed inheritance hierarchy for <code>BufferedSerial</code>.</p>
<p><img src="./diagrams/buffered-serial.png" alt="BufferedSerial class" class="inline"/></p>
<div class="fragment"><div class="line"><span class="keyword">class </span>BufferedSerial : <span class="keyword">private</span> SerialBase, <span class="keyword">public</span> FileHandle, <span class="keyword">private</span> NonCopyable&lt;BufferedSerial&gt;</div>
</div><!-- fragment --><p><code>BufferedSerial</code> privately inherits from <code>SerialBase</code>. It means that applications are forced to use the transmit and receive buffers since they cannot access <code>SerialBase</code> member functions directly.</p>
<p><b>API description</b></p>
<p>These are the new constructors for <code>BufferedSerial</code>. The first constructor creates the buffers dynamically.</p>
<div class="fragment"><div class="line"></div>
<div class="line">BufferedSerial(PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a0aa786f149a40259072edd009d8e4439">tx</a>,</div>
<div class="line">               PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a40da16a8eb34377833431f0c945bf7f4">rx</a>,</div>
<div class="line">               <span class="keywordtype">int</span> baud = MBED_CONF_PLATFORM_DEFAULT_SERIAL_BAUD_RATE,</div>
<div class="line">               <span class="keywordtype">size_t</span> rx_buffer_size = MBED_CONF_DRIVERS_UART_SERIAL_RXBUF_SIZE,</div>
<div class="line">               <span class="keywordtype">size_t</span> tx_buffer_size = MBED_CONF_DRIVERS_UART_SERIAL_TXBUF_SIZE);</div>
<div class="ttc" id="awsf__bufio_8c_html_a0aa786f149a40259072edd009d8e4439"><div class="ttname"><a href="wsf__bufio_8c.html#a0aa786f149a40259072edd009d8e4439">tx</a></div><div class="ttdeci">WsfBufIoUartTx_t tx</div><div class="ttdef"><b>Definition</b> wsf_bufio.c:64</div></div>
<div class="ttc" id="awsf__bufio_8c_html_a40da16a8eb34377833431f0c945bf7f4"><div class="ttname"><a href="wsf__bufio_8c.html#a40da16a8eb34377833431f0c945bf7f4">rx</a></div><div class="ttdeci">WsfBufIoUartRx_t rx</div><div class="ttdef"><b>Definition</b> wsf_bufio.c:65</div></div>
</div><!-- fragment --><p>The second constructor takes buffer pointers as arguments.</p>
<div class="fragment"><div class="line"></div>
<div class="line">BufferedSerial(PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a0aa786f149a40259072edd009d8e4439">tx</a>,</div>
<div class="line">               PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a40da16a8eb34377833431f0c945bf7f4">rx</a>,</div>
<div class="line">               <span class="keywordtype">int</span> baud = MBED_CONF_PLATFORM_DEFAULT_SERIAL_BAUD_RATE,</div>
<div class="line">               <span class="keywordtype">void</span> *rx_buffer,</div>
<div class="line">               <span class="keywordtype">size_t</span> rx_buffer_size,</div>
<div class="line">               <span class="keywordtype">void</span> *tx_buffer,</div>
<div class="line">               <span class="keywordtype">size_t</span> tx_buffer_size);</div>
</div><!-- fragment --><p>The rest of the class API is that of <code>UARTSerial</code> and is described <a href="https://os.mbed.com/docs/mbed-os/v5.14/mbed-os-api-doxy/classmbed_1_1_u_a_r_t_serial.html">here</a>.</p>
<h3><a class="anchor" id="autotoc_md637"></a>
Detailed design : UnbufferedSerial</h3>
<p><code>UnbufferedSerial</code> is a new class that adds a <code>FileHandle</code> interface to <code>RawSerial</code>. <code>RawSerial</code> is the preferred implementation for unbuffered I/O but it lacks a <code>FileHandle</code> interface and so it cannot be used by the retarget code. Instead the retarget code uses a non-public <code>DirectSerial</code> class which adds to the complexity of classes and should be removed. <code>UnbufferedSerial</code> will not provide any of the printf methods that <code>RawSerial</code> has; applications should use <em>fdopen</em> to get a <em>FILE*</em> to use the printf function, see Usage scenarios and examples.</p>
<p>The below diagram shows the detailed inheritance hierarchy for <code>UnbufferedSerial</code>.</p>
<p><img src="./diagrams/unbuffered-serial.png" alt="UnbufferedSerial class" class="inline"/></p>
<p><b>API description</b></p>
<p>This is the proposed API for the <code>UnbufferedSerial</code> class.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>UnbufferedSerial: <span class="keyword">public</span> SerialBase, <span class="keyword">public</span> FileHandle, <span class="keyword">private</span> NonCopyable&lt;UnbufferedSerial&gt; {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    UnbufferedSerial(PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a0aa786f149a40259072edd009d8e4439">tx</a>, PinName <a class="code hl_variable" href="wsf__bufio_8c.html#a40da16a8eb34377833431f0c945bf7f4">rx</a>, <span class="keywordtype">int</span> baud = MBED_CONF_PLATFORM_DEFAULT_SERIAL_BAUD_RATE);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> ssize_t write(<span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code hl_struct" href="structbuffer.html">buffer</a>, <span class="keywordtype">size_t</span> size);</div>
<div class="line">    <span class="keyword">virtual</span> ssize_t read(<span class="keywordtype">void</span> *<a class="code hl_struct" href="structbuffer.html">buffer</a>, <span class="keywordtype">size_t</span> size);</div>
<div class="line">    <span class="keyword">virtual</span> off_t seek(off_t offset, <span class="keywordtype">int</span> whence = SEEK_SET);</div>
<div class="line">    <span class="keyword">virtual</span> off_t size();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">int</span> isatty();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">int</span> close();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">short</span> poll(<span class="keywordtype">short</span> events) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if !(DOXYGEN_ONLY)</span></div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Acquire exclusive access to this serial port</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> lock(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Release exclusive access to this serial port</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> unlock(<span class="keywordtype">void</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">};</div>
<div class="ttc" id="astructbuffer_html"><div class="ttname"><a href="structbuffer.html">buffer</a></div><div class="ttdef"><b>Definition</b> ns_buffer.h:201</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md638"></a>
Usage scenarios and examples</h1>
<h3><a class="anchor" id="autotoc_md639"></a>
Scenario 1 <code>Printing to a serial port other than stdout</code></h3>
<p>The below example shows pseudocode for how to print <code>Hello</code> to <code>device</code> port using the new API.</p>
<div class="fragment"><div class="line">UnbufferedSerial device(TX, RX, 115200);</div>
<div class="line">device.write(<span class="stringliteral">&quot;Hello&quot;</span>, 6);</div>
</div><!-- fragment --><p>Unlike in the case of <code>Serial::printf</code>, printf cannot be called directly on a <code>BufferedSerial</code> or <code>UnbufferedSerial</code> object; instead the application first calls <em>fdopen</em> to get a <em>FILE*</em> to use the printf function. This allows the usage of more formatting options at the cost of flash memory (about 2300 bytes in a simple blinky application).</p>
<div class="fragment"><div class="line">BufferedSerial device(TX, RX, 115200);</div>
<div class="line">FILE *out = fdopen(&amp;device, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line">fprintf(out, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --><p> and similarly for <code>UnbufferedSerial</code></p>
<div class="fragment"><div class="line">UnbufferedSerial device(TX, RX, 115200);</div>
<div class="line">FILE *out = fdopen(&amp;device, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line">fprintf(out, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md640"></a>
Scenario 2 <code>Printing to stdout</code></h3>
<p>There is no change in the current APi in regard to printing to stdout. Applications can call <code>printf</code> directly as shown below. The console baud rate can be configured via <code>platform.stdio-baud-rate</code> in <code>mbed_app.json</code>.</p>
<div class="fragment"><div class="line">printf(<span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --><p> or </p><div class="fragment"><div class="line">fprintf(stdout, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --><p>Other alternatives to printing to stdout are by calling <code>puts</code> or <code>write</code>.</p>
<div class="fragment"><div class="line">puts(<span class="stringliteral">&quot;Hello&quot;</span>);</div>
</div><!-- fragment --> <div class="fragment"><div class="line">BufferedSerial pc(CONSOLE_TX, CONSOLE_RX);</div>
<div class="line">pc.write(<span class="stringliteral">&quot;Hello&quot;</span>, 6);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md641"></a>
Other Work</h1>
<h2><a class="anchor" id="autotoc_md642"></a>
Related work-Simplification of retarget code</h2>
<p>In Mbed, retargeting is implemented by redefining the system I/O functions. The <code>FileHandle</code> abstract class provides an interface with file-like operations, such as read and write that can be redefined by the retarget code. The high-level library functions perform input/output by calling the low-level functions which use the system I/O functions to interface with hardware.</p>
<p>The relationship of <code>FileHandle</code> and other APIs is as follows:</p>
<p><img src="./diagrams/retarget.png" alt="Retarget" class="inline"/></p>
<p>The POSIX layer, the memory cost associated with the vtable and virtual functions of the <code>FileHandle</code> class, and the static array of <code>FileHandle*</code> allocated by the retarget code for file handling has a significant impact on memory. A constrained target that only uses a console does not need file handling and should be able to turn this functionality off.</p>
<p>A new configuration parameter is introduced to compile the file handling code out. The application can override the default configuration in mbed_app.json as follows:</p>
<div class="fragment"><div class="line"><span class="stringliteral">&quot;target_overrides&quot;</span>: {</div>
<div class="line">    <span class="stringliteral">&quot;*&quot;</span>: {</div>
<div class="line">        <span class="stringliteral">&quot;platform.stdio-minimal-console-only&quot;</span>: <span class="keyword">true</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>There are two approaches to achieve a minimal retarget layer. You can:</p><ol type="1">
<li>Redefine the low-level library functions. A detailed description can be found <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0475m/chr1358938931411.html">here</a></li>
</ol>
<ol type="1">
<li>Redefine the system I/O functions.</li>
</ol>
<p>A minimal console only needs to write a single character at a time. So redefining the default fputc() to directly write to the serial port if the output stream is stdout and bypassing the system I/O functions should achieve higher memory savings. If we take this approach, we will have to rework some error handlers that rely on the POSIX form of <code>write(STDOUT_FILENO, buf, len)</code> to do emergency printing.</p>
<p>The second solution keeps the POSIX layer with the main saving coming from dropping the use of <code>FileHandle</code> and the file handle table itself. In this case, a <code>MinimalConsole</code> class will be implemented as an internal class in the retarget code and <code>write()</code> will call <code>MinimalConsole::putc</code> in a loop.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MinimalConsole {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MinimalConsole(<span class="keywordtype">int</span> baud = MBED_CONF_PLATFORM_DEFAULT_SERIAL_BAUD_RATE);</div>
<div class="line">    ~MinimalConsole();</div>
<div class="line">    <span class="keywordtype">int</span> getc();</div>
<div class="line">    <span class="keywordtype">int</span> putc(<span class="keywordtype">int</span> c);</div>
<div class="line">};</div>
</div><!-- fragment --><p>List of tasks to simplify the retarget code:</p>
<ul>
<li>Use <code>UnbufferedSerial</code> instead of <code>DirectSerial</code></li>
<li>Remove <code>DirectSerial</code></li>
<li>Add a configuration parameter to compile out file handling feature<ul>
<li>Alternative uses weak console_putc/getc functions</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md643"></a>
Future work-Deprecation of Stream</h2>
<p>The <code>Stream</code> class pulls in the &lt;stdio.h&gt; library. It should be replaced by drivers implementing <code>FileHandle</code> directly and applications using <code>fdopen(FileHandle *)</code> to get a <code>FILE*</code> to use full C/C++ stream features.</p>
<p><code>Stream</code> is currently used by the following classes:</p><ul>
<li><code>Serial</code></li>
<li><code><a class="el" href="classUSBKeyboard.html">USBKeyboard</a></code></li>
<li><code><a class="el" href="classUSBMouseKeyboard.html">USBMouseKeyboard</a></code></li>
<li><code><a class="el" href="classUSBSerial.html">USBSerial</a></code></li>
</ul>
<p>Deprecation of <code>Stream</code> should be planned in a future release.</p>
<h1><a class="anchor" id="autotoc_md644"></a>
Roll-out Plan</h1>
<p>This feature will be implemented in different phases as follows:</p>
<p>Phase 1:</p><ul>
<li>Deprecation of APIs</li>
<li>Implementation of new class <code>UnbufferedSerial</code></li>
<li>Implementation of new class <code>BufferedSerial</code></li>
<li>Use <code>UnbufferedSerial</code> instead of <code>DirectSerial</code> in retarget code (as <code>DirectSerial</code> is not a public API it can be directly removed)</li>
</ul>
<p>Phase 2:</p><ul>
<li>Removal of deprecated APIs</li>
</ul>
<h1><a class="anchor" id="autotoc_md645"></a>
Tools and configuration changes</h1>
<h3><a class="anchor" id="autotoc_md646"></a>
Tool changes</h3>
<p>None</p>
<h3><a class="anchor" id="autotoc_md647"></a>
Configuration changes</h3>
<p>None</p>
<h1><a class="anchor" id="autotoc_md648"></a>
Other information</h1>
<h3><a class="anchor" id="autotoc_md649"></a>
Deprecations</h3>
<p>The following APIs will be deprecated:</p><ul>
<li><code>Serial</code> class</li>
<li><code>RawSerial</code> class</li>
<li><code>UARTSerial</code> class</li>
</ul>
<h3><a class="anchor" id="autotoc_md650"></a>
References</h3>
<p><a href="https://github.com/ARMmbed/mbed-os/pull/5655">https://github.com/ARMmbed/mbed-os/pull/5655</a></p>
<p><a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0475m/chr1358938931411.html">Tailoring input/output functions in the C and C++ libraries</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
