<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: /home/zoe/Mbed Programs/esp_code/mbed-os/connectivity/FEATURE_BLE/libraries/cordio_stack/ble-host/sources/stack/smp/smp_sc_main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('smp__sc__main_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">smp_sc_main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SMP Secure Connections main module and utility functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="wsf__types_8h_source.html">wsf_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wsf__trace_8h_source.html">wsf_trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wsf__assert_8h_source.html">wsf_assert.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wsf__msg_8h_source.html">wsf_msg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sec__api_8h_source.html">sec_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wsf__buf_8h_source.html">wsf_buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bstream_8h_source.html">util/bstream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calc128_8h_source.html">util/calc128.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wstr_8h_source.html">util/wstr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dm__api_8h_source.html">dm_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smp__api_8h_source.html">smp_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smp__defs_8h_source.html">smp_defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smp__main_8h_source.html">smp_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smp__sc__main_8h_source.html">smp_sc_main.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="smp__handler_8h_source.html">smp_handler.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac181ed3dcd00be985f1c6f63cf686fe2" id="r_ac181ed3dcd00be985f1c6f63cf686fe2"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac181ed3dcd00be985f1c6f63cf686fe2">SmpScAllocScratchBuffers</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb)</td></tr>
<tr class="memdesc:ac181ed3dcd00be985f1c6f63cf686fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate LESC Scratch buffers.  <br /></td></tr>
<tr class="separator:ac181ed3dcd00be985f1c6f63cf686fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adade95968059ebcdf42895ac1e0726ec" id="r_adade95968059ebcdf42895ac1e0726ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adade95968059ebcdf42895ac1e0726ec">SmpScFreeScratchBuffers</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb)</td></tr>
<tr class="memdesc:adade95968059ebcdf42895ac1e0726ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free LESC Scratch buffers.  <br /></td></tr>
<tr class="separator:adade95968059ebcdf42895ac1e0726ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01e368916f71a252a70419bfceb6133" id="r_ad01e368916f71a252a70419bfceb6133"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad01e368916f71a252a70419bfceb6133">SmpScCmac</a> (const uint8_t *pKey, uint8_t *pText, uint8_t textLen, <a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg)</td></tr>
<tr class="memdesc:ad01e368916f71a252a70419bfceb6133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform CMAC calculation or send SMP failure.  <br /></td></tr>
<tr class="separator:ad01e368916f71a252a70419bfceb6133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15fd3cd17ac94c94d8c707128aef97a" id="r_ad15fd3cd17ac94c94d8c707128aef97a"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad15fd3cd17ac94c94d8c707128aef97a">SmpScAlloc</a> (uint8_t size, <a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg)</td></tr>
<tr class="memdesc:ad15fd3cd17ac94c94d8c707128aef97a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a buffer or send SMP failure.  <br /></td></tr>
<tr class="separator:ad15fd3cd17ac94c94d8c707128aef97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d809640da905cc0f9f9f3ef8da0e24a" id="r_a9d809640da905cc0f9f9f3ef8da0e24a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d809640da905cc0f9f9f3ef8da0e24a">SmpScFree</a> (uint8_t *pBuf)</td></tr>
<tr class="memdesc:a9d809640da905cc0f9f9f3ef8da0e24a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a buffer allocated with SmpScAlloc.  <br /></td></tr>
<tr class="separator:a9d809640da905cc0f9f9f3ef8da0e24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed747da839610e3e2e671403ddb28b1" id="r_a2ed747da839610e3e2e671403ddb28b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ed747da839610e3e2e671403ddb28b1">SmpScCalcF4</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg, uint8_t *pU, uint8_t *pV, uint8_t z, uint8_t *pX)</td></tr>
<tr class="memdesc:a2ed747da839610e3e2e671403ddb28b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate cryptographic toolkit function F4.  <br /></td></tr>
<tr class="separator:a2ed747da839610e3e2e671403ddb28b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24319b282a012ab42e693be9e65da10a" id="r_a24319b282a012ab42e693be9e65da10a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24319b282a012ab42e693be9e65da10a">SmpScInit</a> ()</td></tr>
<tr class="memdesc:a24319b282a012ab42e693be9e65da10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SMP for LESC security.  <br /></td></tr>
<tr class="separator:a24319b282a012ab42e693be9e65da10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fa4cd7916f49ec4622fa618fac7611" id="r_ac7fa4cd7916f49ec4622fa618fac7611"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7fa4cd7916f49ec4622fa618fac7611">SmpScCat</a> (uint8_t *pDst, const uint8_t *pSrc, uint8_t len)</td></tr>
<tr class="memdesc:ac7fa4cd7916f49ec4622fa618fac7611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concatinate a buffer and return a pointer to the next byte after concatination.  <br /></td></tr>
<tr class="separator:ac7fa4cd7916f49ec4622fa618fac7611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756c855d0065b2d2ccb6ded726c1b22a" id="r_a756c855d0065b2d2ccb6ded726c1b22a"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a756c855d0065b2d2ccb6ded726c1b22a">SmpScCat128</a> (uint8_t *pDst, uint8_t *pSrc)</td></tr>
<tr class="memdesc:a756c855d0065b2d2ccb6ded726c1b22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concatinate a 128 bit buffer and return a pointer to the next byte after concatination.  <br /></td></tr>
<tr class="separator:a756c855d0065b2d2ccb6ded726c1b22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2858ee34cab91f9dae27d63743f9b092" id="r_a2858ee34cab91f9dae27d63743f9b092"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2858ee34cab91f9dae27d63743f9b092">smpScSendPubKey</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg)</td></tr>
<tr class="memdesc:a2858ee34cab91f9dae27d63743f9b092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send public key to peer.  <br /></td></tr>
<tr class="separator:a2858ee34cab91f9dae27d63743f9b092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9f2e8221c417d24f190a4a01ca6b6a" id="r_abf9f2e8221c417d24f190a4a01ca6b6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf9f2e8221c417d24f190a4a01ca6b6a">smpScSendDHKeyCheck</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg, uint8_t *pCheck)</td></tr>
<tr class="memdesc:abf9f2e8221c417d24f190a4a01ca6b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the DH Key check command to the peer.  <br /></td></tr>
<tr class="separator:abf9f2e8221c417d24f190a4a01ca6b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad295a9c6d76222050c64def77ea8c9cf" id="r_ad295a9c6d76222050c64def77ea8c9cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad295a9c6d76222050c64def77ea8c9cf">smpScSendRand</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg, uint8_t *pRand)</td></tr>
<tr class="memdesc:ad295a9c6d76222050c64def77ea8c9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Pair Rand command to the peer.  <br /></td></tr>
<tr class="separator:ad295a9c6d76222050c64def77ea8c9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b640fdbe32ddaa7802201cba133452d" id="r_a0b640fdbe32ddaa7802201cba133452d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b640fdbe32ddaa7802201cba133452d">smpScSendPairCnf</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb, <a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *pMsg, uint8_t *pCnf)</td></tr>
<tr class="memdesc:a0b640fdbe32ddaa7802201cba133452d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a pairing confirm packet to the peer.  <br /></td></tr>
<tr class="separator:a0b640fdbe32ddaa7802201cba133452d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d3460d32dd3f59ed8a8d472767b159" id="r_ac3d3460d32dd3f59ed8a8d472767b159"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac3d3460d32dd3f59ed8a8d472767b159">smpGetPkBit</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb)</td></tr>
<tr class="memdesc:ac3d3460d32dd3f59ed8a8d472767b159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next bit used in Passkey calculations.  <br /></td></tr>
<tr class="separator:ac3d3460d32dd3f59ed8a8d472767b159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ba057999b0155fbe679dc978887477" id="r_aa2ba057999b0155fbe679dc978887477"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsmpScPubKey__t.html">smpScPubKey_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2ba057999b0155fbe679dc978887477">smpGetPeerPublicKey</a> (<a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a> connId)</td></tr>
<tr class="memdesc:aa2ba057999b0155fbe679dc978887477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the connection's Peer Public Key for LESC pairing.  <br /></td></tr>
<tr class="separator:aa2ba057999b0155fbe679dc978887477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f82a4282425e083a95ea9f0bfc0a7c" id="r_a75f82a4282425e083a95ea9f0bfc0a7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75f82a4282425e083a95ea9f0bfc0a7c">smpSetPeerPublicKey</a> (<a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a> connId, <a class="el" href="structsmpScPubKey__t.html">smpScPubKey_t</a> *pKey)</td></tr>
<tr class="memdesc:a75f82a4282425e083a95ea9f0bfc0a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the connection's Peer Public Key for LESC pairing.  <br /></td></tr>
<tr class="separator:a75f82a4282425e083a95ea9f0bfc0a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdf8bf6d82ce7955e8c1fd9b5fabeb5" id="r_a6cdf8bf6d82ce7955e8c1fd9b5fabeb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cdf8bf6d82ce7955e8c1fd9b5fabeb5">SmpScSetOobCfg</a> (<a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a> connId, <a class="el" href="structdmSecLescOobCfg__t.html">dmSecLescOobCfg_t</a> *pConfig)</td></tr>
<tr class="memdesc:a6cdf8bf6d82ce7955e8c1fd9b5fabeb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the OOB Confirm value.  <br /></td></tr>
<tr class="separator:a6cdf8bf6d82ce7955e8c1fd9b5fabeb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46d68e8665a5605d1e7a72217a710dd0" id="r_ga46d68e8665a5605d1e7a72217a710dd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__STACK__SMP__API.html#ga46d68e8665a5605d1e7a72217a710dd0">SmpScGetCancelMsgWithReattempt</a> (<a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a> connId, <a class="el" href="structwsfMsgHdr__t.html">wsfMsgHdr_t</a> *pHdr, uint8_t status)</td></tr>
<tr class="memdesc:ga46d68e8665a5605d1e7a72217a710dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format a cancel message with consideration for the attempts counter.  <br /></td></tr>
<tr class="separator:ga46d68e8665a5605d1e7a72217a710dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72da05df22402e70c9273f6c09dc80b7" id="r_a72da05df22402e70c9273f6c09dc80b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72da05df22402e70c9273f6c09dc80b7">smpScFailWithReattempt</a> (<a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *pCcb)</td></tr>
<tr class="memdesc:a72da05df22402e70c9273f6c09dc80b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process failure and check attempt count.  <br /></td></tr>
<tr class="separator:a72da05df22402e70c9273f6c09dc80b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100ef571e8e83b2b75206383e4550c88" id="r_a100ef571e8e83b2b75206383e4550c88"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a100ef571e8e83b2b75206383e4550c88">smpEventStr</a> (uint8_t eventId)</td></tr>
<tr class="memdesc:a100ef571e8e83b2b75206383e4550c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert event into string for diagnostics.  <br /></td></tr>
<tr class="separator:a100ef571e8e83b2b75206383e4550c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16968b63cdbf61f36452c712afc897b" id="r_aa16968b63cdbf61f36452c712afc897b"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa16968b63cdbf61f36452c712afc897b">smpStateStr</a> (uint8_t <a class="el" href="pal__timer_8c.html#a51d375e3412343fad585076121e7d57a">state</a>)</td></tr>
<tr class="memdesc:aa16968b63cdbf61f36452c712afc897b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert state into string for diagnostics.  <br /></td></tr>
<tr class="separator:aa16968b63cdbf61f36452c712afc897b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eecc0f7f376c6125b65934db3db0032" id="r_a3eecc0f7f376c6125b65934db3db0032"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3eecc0f7f376c6125b65934db3db0032">smpLogByteArray</a> (char *str, uint8_t *pArray, uint8_t len)</td></tr>
<tr class="memdesc:a3eecc0f7f376c6125b65934db3db0032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an array of bytes to the log.  <br /></td></tr>
<tr class="separator:a3eecc0f7f376c6125b65934db3db0032"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac411d5f0121dd57e74300c6ea0992b52" id="r_ac411d5f0121dd57e74300c6ea0992b52"><td class="memItemLeft" align="right" valign="top"><a id="ac411d5f0121dd57e74300c6ea0992b52" name="ac411d5f0121dd57e74300c6ea0992b52"></a>
<a class="el" href="structsmpScCcb__t.html">smpScCcb_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>SMP_ScCcb</b> [<a class="el" href="group__STACK__INIT.html#gabc29719ae06337b929829f381301bb88">DM_CONN_MAX</a>]</td></tr>
<tr class="separator:ac411d5f0121dd57e74300c6ea0992b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SMP Secure Connections main module and utility functions. </p>
<p>Copyright (c) 2010-2019 Arm Ltd. All Rights Reserved.</p>
<p>Copyright (c) 2019 Packetcraft, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at </p><pre class="fragment">http://www.apache.org/licenses/LICENSE-2.0
</pre><p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a100ef571e8e83b2b75206383e4550c88" name="a100ef571e8e83b2b75206383e4550c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a100ef571e8e83b2b75206383e4550c88">&#9670;&#160;</a></span>smpEventStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * smpEventStr </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>eventId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert event into string for diagnostics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventId</td><td>Event ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Event string. </dd></dl>

</div>
</div>
<a id="aa2ba057999b0155fbe679dc978887477" name="aa2ba057999b0155fbe679dc978887477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ba057999b0155fbe679dc978887477">&#9670;&#160;</a></span>smpGetPeerPublicKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsmpScPubKey__t.html">smpScPubKey_t</a> * smpGetPeerPublicKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a></td>          <td class="paramname"><span class="paramname"><em>connId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the connection's Peer Public Key for LESC pairing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connId</td><td>Connection ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Peer public Key. </dd></dl>

</div>
</div>
<a id="ac3d3460d32dd3f59ed8a8d472767b159" name="ac3d3460d32dd3f59ed8a8d472767b159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d3460d32dd3f59ed8a8d472767b159">&#9670;&#160;</a></span>smpGetPkBit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t smpGetPkBit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next bit used in Passkey calculations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a3eecc0f7f376c6125b65934db3db0032" name="a3eecc0f7f376c6125b65934db3db0032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eecc0f7f376c6125b65934db3db0032">&#9670;&#160;</a></span>smpLogByteArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpLogByteArray </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pArray</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an array of bytes to the log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>Prefix string printed before the byte array </td></tr>
    <tr><td class="paramname">pArray</td><td>Array of bytes </td></tr>
    <tr><td class="paramname">len</td><td>Length of pArray in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="ad15fd3cd17ac94c94d8c707128aef97a" name="ad15fd3cd17ac94c94d8c707128aef97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15fd3cd17ac94c94d8c707128aef97a">&#9670;&#160;</a></span>SmpScAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * SmpScAlloc </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a buffer or send SMP failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of buffer to allocate. </td></tr>
    <tr><td class="paramname">event</td><td>WSF event mask. </td></tr>
    <tr><td class="paramname">pMsg</td><td>WSF message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated buffer. </dd></dl>

</div>
</div>
<a id="ac181ed3dcd00be985f1c6f63cf686fe2" name="ac181ed3dcd00be985f1c6f63cf686fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac181ed3dcd00be985f1c6f63cf686fe2">&#9670;&#160;</a></span>SmpScAllocScratchBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t SmpScAllocScratchBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate LESC Scratch buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>SMP control block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if success, else FALSE. </dd></dl>

</div>
</div>
<a id="a2ed747da839610e3e2e671403ddb28b1" name="a2ed747da839610e3e2e671403ddb28b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ed747da839610e3e2e671403ddb28b1">&#9670;&#160;</a></span>SmpScCalcF4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScCalcF4 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pU</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pV</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>z</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pX</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate cryptographic toolkit function F4. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>SMP control block </td></tr>
    <tr><td class="paramname">pMsg</td><td>WSF message. </td></tr>
    <tr><td class="paramname">pU</td><td>Pointer to U parameter of F4 function. </td></tr>
    <tr><td class="paramname">pV</td><td>Pointer to V parameter of F4 function. </td></tr>
    <tr><td class="paramname">z</td><td>Byte with z parameter of F4 function. </td></tr>
    <tr><td class="paramname">pX</td><td>Pointer to X parameter of F4 function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="ac7fa4cd7916f49ec4622fa618fac7611" name="ac7fa4cd7916f49ec4622fa618fac7611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7fa4cd7916f49ec4622fa618fac7611">&#9670;&#160;</a></span>SmpScCat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * SmpScCat </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pDst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pSrc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Concatinate a buffer and return a pointer to the next byte after concatination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDst</td><td>Pointer to destination. </td></tr>
    <tr><td class="paramname">pSrc</td><td>Pointer to source buffer. </td></tr>
    <tr><td class="paramname">len</td><td>Length of pSrc in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to next byte after concatination. </dd></dl>

</div>
</div>
<a id="a756c855d0065b2d2ccb6ded726c1b22a" name="a756c855d0065b2d2ccb6ded726c1b22a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756c855d0065b2d2ccb6ded726c1b22a">&#9670;&#160;</a></span>SmpScCat128()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * SmpScCat128 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pDst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pSrc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Concatinate a 128 bit buffer and return a pointer to the next byte after concatination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pDst</td><td>Pointer to destination. </td></tr>
    <tr><td class="paramname">pSrc</td><td>Pointer to source buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to next byte after concatination. </dd></dl>

</div>
</div>
<a id="ad01e368916f71a252a70419bfceb6133" name="ad01e368916f71a252a70419bfceb6133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01e368916f71a252a70419bfceb6133">&#9670;&#160;</a></span>SmpScCmac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScCmac </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pKey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pText</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>textLen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform CMAC calculation or send SMP failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pKey</td><td>CMAC Key </td></tr>
    <tr><td class="paramname">pText</td><td>Pointer to message text. </td></tr>
    <tr><td class="paramname">textLen</td><td>Length of pText in bytes. </td></tr>
    <tr><td class="paramname">pCcb</td><td>SMP control block. </td></tr>
    <tr><td class="paramname">pMsg</td><td>WSF message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a72da05df22402e70c9273f6c09dc80b7" name="a72da05df22402e70c9273f6c09dc80b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72da05df22402e70c9273f6c09dc80b7">&#9670;&#160;</a></span>smpScFailWithReattempt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpScFailWithReattempt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process failure and check attempt count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>

</div>
</div>
<a id="a9d809640da905cc0f9f9f3ef8da0e24a" name="a9d809640da905cc0f9f9f3ef8da0e24a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d809640da905cc0f9f9f3ef8da0e24a">&#9670;&#160;</a></span>SmpScFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScFree </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pBuf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a buffer allocated with SmpScAlloc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pBuf</td><td>Pointer to buffer to free.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="adade95968059ebcdf42895ac1e0726ec" name="adade95968059ebcdf42895ac1e0726ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adade95968059ebcdf42895ac1e0726ec">&#9670;&#160;</a></span>SmpScFreeScratchBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScFreeScratchBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free LESC Scratch buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>SMP control block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a24319b282a012ab42e693be9e65da10a" name="a24319b282a012ab42e693be9e65da10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24319b282a012ab42e693be9e65da10a">&#9670;&#160;</a></span>SmpScInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize SMP for LESC security. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>WSF event mask. </td></tr>
    <tr><td class="paramname">pMsg</td><td>WSF message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="abf9f2e8221c417d24f190a4a01ca6b6a" name="abf9f2e8221c417d24f190a4a01ca6b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9f2e8221c417d24f190a4a01ca6b6a">&#9670;&#160;</a></span>smpScSendDHKeyCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpScSendDHKeyCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pCheck</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the DH Key check command to the peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block. </td></tr>
    <tr><td class="paramname">pMsg</td><td>State machine message. </td></tr>
    <tr><td class="paramname">pCheck</td><td>Check data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a0b640fdbe32ddaa7802201cba133452d" name="a0b640fdbe32ddaa7802201cba133452d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b640fdbe32ddaa7802201cba133452d">&#9670;&#160;</a></span>smpScSendPairCnf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpScSendPairCnf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pCnf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a pairing confirm packet to the peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block. </td></tr>
    <tr><td class="paramname">pMsg</td><td>State machine message. </td></tr>
    <tr><td class="paramname">pCnf</td><td>Point to confirm data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a2858ee34cab91f9dae27d63743f9b092" name="a2858ee34cab91f9dae27d63743f9b092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2858ee34cab91f9dae27d63743f9b092">&#9670;&#160;</a></span>smpScSendPubKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpScSendPubKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send public key to peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block. </td></tr>
    <tr><td class="paramname">pMsg</td><td>State machine message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="ad295a9c6d76222050c64def77ea8c9cf" name="ad295a9c6d76222050c64def77ea8c9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad295a9c6d76222050c64def77ea8c9cf">&#9670;&#160;</a></span>smpScSendRand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpScSendRand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsmpCcb__t.html">smpCcb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pCcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionsmpMsg__t.html">smpMsg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pMsg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>pRand</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a Pair Rand command to the peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pCcb</td><td>Connection control block. </td></tr>
    <tr><td class="paramname">pMsg</td><td>State machine message. </td></tr>
    <tr><td class="paramname">pRand</td><td>Pointer to rand data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="a6cdf8bf6d82ce7955e8c1fd9b5fabeb5" name="a6cdf8bf6d82ce7955e8c1fd9b5fabeb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdf8bf6d82ce7955e8c1fd9b5fabeb5">&#9670;&#160;</a></span>SmpScSetOobCfg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SmpScSetOobCfg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a></td>          <td class="paramname"><span class="paramname"><em>connId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmSecLescOobCfg__t.html">dmSecLescOobCfg_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pConfig</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the OOB Confirm value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connId</td><td>Connection ID. </td></tr>
    <tr><td class="paramname">pCnf</td><td>OOB Configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>

</div>
</div>
<a id="a75f82a4282425e083a95ea9f0bfc0a7c" name="a75f82a4282425e083a95ea9f0bfc0a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f82a4282425e083a95ea9f0bfc0a7c">&#9670;&#160;</a></span>smpSetPeerPublicKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smpSetPeerPublicKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__STACK__DM__API.html#ga794e39c17c1fca021019a1a71017c29f">dmConnId_t</a></td>          <td class="paramname"><span class="paramname"><em>connId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsmpScPubKey__t.html">smpScPubKey_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pKey</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the connection's Peer Public Key for LESC pairing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connId</td><td>Connection ID. </td></tr>
    <tr><td class="paramname">pKey</td><td>A Pointer to the peer's public key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>

</div>
</div>
<a id="aa16968b63cdbf61f36452c712afc897b" name="aa16968b63cdbf61f36452c712afc897b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16968b63cdbf61f36452c712afc897b">&#9670;&#160;</a></span>smpStateStr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * smpStateStr </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert state into string for diagnostics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>State ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>State string. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_a9b0a4f8a11c2540ce1e65185f830e6a.html">FEATURE_BLE</a></li><li class="navelem"><a class="el" href="dir_73487efda0e2f6d34034d4237b1c3952.html">libraries</a></li><li class="navelem"><a class="el" href="dir_33de8441f7b8b108cc48249435a2d2bd.html">cordio_stack</a></li><li class="navelem"><a class="el" href="dir_3940a4f0546291bcd68aa891290cb6c5.html">ble-host</a></li><li class="navelem"><a class="el" href="dir_e276228f8496bf800e01198cc79e5a5f.html">sources</a></li><li class="navelem"><a class="el" href="dir_629a499420c3e80db90a8c1bdd4624c3.html">stack</a></li><li class="navelem"><a class="el" href="dir_813e49a353249ce29b19e3e87f37d11f.html">smp</a></li><li class="navelem"><a class="el" href="smp__sc__main_8c.html">smp_sc_main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
