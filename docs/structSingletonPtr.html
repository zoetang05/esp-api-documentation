<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: SingletonPtr&lt; T &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structSingletonPtr.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structSingletonPtr-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SingletonPtr&lt; T &gt; Struct Template Reference<div class="ingroups"><a class="el" href="group__platform-public-api.html">Platform</a> &raquo; <a class="el" href="group__platform__SingletonPtr.html">SingletonPtr class</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="SingletonPtr_8h_source.html">SingletonPtr.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7e89a5ecc8d28fe4e04de3a0d978a59" id="r_ad7e89a5ecc8d28fe4e04de3a0d978a59"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7e89a5ecc8d28fe4e04de3a0d978a59">get</a> () const</td></tr>
<tr class="separator:ad7e89a5ecc8d28fe4e04de3a0d978a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f257afca46149c0ea5801060b441b64" id="r_a3f257afca46149c0ea5801060b441b64"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f257afca46149c0ea5801060b441b64">operator-&gt;</a> () const</td></tr>
<tr class="separator:a3f257afca46149c0ea5801060b441b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f56c4e77e68697d6e0de4019b248ac" id="r_af9f56c4e77e68697d6e0de4019b248ac"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9f56c4e77e68697d6e0de4019b248ac">operator*</a> () const</td></tr>
<tr class="separator:af9f56c4e77e68697d6e0de4019b248ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736c0b68fc2312be2eed6640df738ac5" id="r_a736c0b68fc2312be2eed6640df738ac5"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a736c0b68fc2312be2eed6640df738ac5">get_no_init</a> () const</td></tr>
<tr class="separator:a736c0b68fc2312be2eed6640df738ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22901bb52341535f4c198f7bee259e87" id="r_a22901bb52341535f4c198f7bee259e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22901bb52341535f4c198f7bee259e87">destroy</a> ()</td></tr>
<tr class="separator:a22901bb52341535f4c198f7bee259e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab62cdc5bd56654a3a409f5e491ff3884" id="r_ab62cdc5bd56654a3a409f5e491ff3884"><td class="memItemLeft" align="right" valign="top"><a id="ab62cdc5bd56654a3a409f5e491ff3884" name="ab62cdc5bd56654a3a409f5e491ff3884"></a>
T *&#160;</td><td class="memItemRight" valign="bottom"><b>_ptr</b></td></tr>
<tr class="separator:ab62cdc5bd56654a3a409f5e491ff3884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee501885555cb272aa2a2133efe9106" id="r_a0ee501885555cb272aa2a2133efe9106"><td class="memItemLeft" align="right" valign="top"><a id="a0ee501885555cb272aa2a2133efe9106" name="a0ee501885555cb272aa2a2133efe9106"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>_data</b> [(sizeof(T)+sizeof(uint64_t) - 1)/sizeof(uint64_t)]</td></tr>
<tr class="separator:a0ee501885555cb272aa2a2133efe9106"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class T&gt;<br />
struct SingletonPtr&lt; T &gt;</div><p>Utility class for creating and using a singleton</p>
<dl class="section note"><dt>Note</dt><dd>Synchronization level: Thread safe</dd>
<dd>
: This class is lazily initialized on first use. This class has a constexpr default constructor so if it is not used as a non-local variable it will be garbage collected.</dd>
<dd>
: This class would normally be used in a static standalone context. It does not call the destructor of the wrapped object when it is destroyed, effectively ensuring linker exclusion of the destructor for static objects. If used in another context, such as a member of a normal class wanting "initialize on first-use" semantics on a member, care should be taken to call the destroy method manually if necessary.</dd>
<dd>
: If used as a sub-object of a class, that class's own constructor must be constexpr to achieve its exclusion by the linker when unused. That will require explicit initialization of its other members.</dd>
<dd>
: More detail on initialization: Formerly, <a class="el" href="structSingletonPtr.html">SingletonPtr</a> had no constructor, so was "zero-initialized" when non-local. So if enclosed in another class with no constructor, the whole thing would be zero-initialized, and linker-excludable. Having no constructor meant <a class="el" href="structSingletonPtr.html">SingletonPtr</a> was not constexpr, which limited applicability in other contexts. With its new constexpr constructor, it is now "constant-initialized" when non-local. This achieves the same effect as a standalone non-local object, but as a sub-object linker exclusion is now only achieved if the outer object is itself using a constexpr constructor to get constant-initialization. Otherwise, the outer object will be neither zero-initialized nor constant-initialized, so will be "dynamic-initialized", and likely to be left in by the linker. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a22901bb52341535f4c198f7bee259e87" name="a22901bb52341535f4c198f7bee259e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22901bb52341535f4c198f7bee259e87">&#9670;&#160;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structSingletonPtr.html">SingletonPtr</a>&lt; T &gt;::destroy </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy the underlying singleton</p>
<p>The underlying singleton is never automatically destroyed; this is a potential optimization to avoid destructors being pulled into an embedded image on the exit path, which should never occur. The destructor can be manually invoked via this call.</p>
<p>Unlike construction, this is not thread-safe. After this call, no further operations on the object are permitted.</p>
<p>Is a no-op if the object has not been constructed. </p>

</div>
</div>
<a id="ad7e89a5ecc8d28fe4e04de3a0d978a59" name="ad7e89a5ecc8d28fe4e04de3a0d978a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e89a5ecc8d28fe4e04de3a0d978a59">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="structSingletonPtr.html">SingletonPtr</a>&lt; T &gt;::get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the underlying singleton</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the singleton </dd></dl>

</div>
</div>
<a id="a736c0b68fc2312be2eed6640df738ac5" name="a736c0b68fc2312be2eed6640df738ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736c0b68fc2312be2eed6640df738ac5">&#9670;&#160;</a></span>get_no_init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="structSingletonPtr.html">SingletonPtr</a>&lt; T &gt;::get_no_init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the underlying singleton</p>
<p>Gets a pointer without initialization - can be used as an optimization when it is known that initialization must have already occurred.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the singleton, or NULL if not initialized. </dd></dl>

</div>
</div>
<a id="af9f56c4e77e68697d6e0de4019b248ac" name="af9f56c4e77e68697d6e0de4019b248ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f56c4e77e68697d6e0de4019b248ac">&#9670;&#160;</a></span>operator*()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T &amp; <a class="el" href="structSingletonPtr.html">SingletonPtr</a>&lt; T &gt;::operator* </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a reference to the underlying singleton</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the singleton </dd></dl>

</div>
</div>
<a id="a3f257afca46149c0ea5801060b441b64" name="a3f257afca46149c0ea5801060b441b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f257afca46149c0ea5801060b441b64">&#9670;&#160;</a></span>operator-&gt;()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="structSingletonPtr.html">SingletonPtr</a>&lt; T &gt;::operator-&gt; </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a pointer to the underlying singleton</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the singleton </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/zoe/Mbed Programs/esp_code/mbed-os/platform/include/platform/<a class="el" href="SingletonPtr_8h_source.html">SingletonPtr.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structSingletonPtr.html">SingletonPtr</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
