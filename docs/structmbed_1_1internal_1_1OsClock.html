<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: mbed::internal::OsClock Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structmbed_1_1internal_1_1OsClock.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structmbed_1_1internal_1_1OsClock-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mbed::internal::OsClock Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mbed__os__timer_8h_source.html">mbed_os_timer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a43cf0851ecbb24c938f3f8f731a7ef2a" id="r_a43cf0851ecbb24c938f3f8f731a7ef2a"><td class="memItemLeft" align="right" valign="top"><a id="a43cf0851ecbb24c938f3f8f731a7ef2a" name="a43cf0851ecbb24c938f3f8f731a7ef2a"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>period</b> = OsTimer::period</td></tr>
<tr class="separator:a43cf0851ecbb24c938f3f8f731a7ef2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d696a6d9d787f6a48db968ac684d2a5" id="r_a5d696a6d9d787f6a48db968ac684d2a5"><td class="memItemLeft" align="right" valign="top"><a id="a5d696a6d9d787f6a48db968ac684d2a5" name="a5d696a6d9d787f6a48db968ac684d2a5"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>rep</b> = std::chrono::milliseconds::rep</td></tr>
<tr class="separator:a5d696a6d9d787f6a48db968ac684d2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f50f8c0f8cf3e7b92d28bccbb56600" id="r_a87f50f8c0f8cf3e7b92d28bccbb56600"><td class="memItemLeft" align="right" valign="top"><a id="a87f50f8c0f8cf3e7b92d28bccbb56600" name="a87f50f8c0f8cf3e7b92d28bccbb56600"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>duration</b> = std::chrono::duration&lt;rep, period&gt;</td></tr>
<tr class="separator:a87f50f8c0f8cf3e7b92d28bccbb56600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5181b60170bb8488648ff2dc57d594" id="r_a3f5181b60170bb8488648ff2dc57d594"><td class="memItemLeft" align="right" valign="top"><a id="a3f5181b60170bb8488648ff2dc57d594" name="a3f5181b60170bb8488648ff2dc57d594"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>time_point</b> = std::chrono::time_point&lt;<a class="el" href="structmbed_1_1internal_1_1OsClock.html">OsClock</a>, duration&gt;</td></tr>
<tr class="separator:a3f5181b60170bb8488648ff2dc57d594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78c00533eea9b97d4c82e8d75c4482e" id="r_ac78c00533eea9b97d4c82e8d75c4482e"><td class="memItemLeft" align="right" valign="top"><a id="ac78c00533eea9b97d4c82e8d75c4482e" name="ac78c00533eea9b97d4c82e8d75c4482e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>duration_u32</b> = std::chrono::duration&lt;uint32_t, period&gt;</td></tr>
<tr class="separator:ac78c00533eea9b97d4c82e8d75c4482e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1213214b0456d97157d5924cb6f708c6" id="r_a1213214b0456d97157d5924cb6f708c6"><td class="memItemLeft" align="right" valign="top"><a id="a1213214b0456d97157d5924cb6f708c6" name="a1213214b0456d97157d5924cb6f708c6"></a>
static time_point&#160;</td><td class="memItemRight" valign="bottom"><b>now</b> ()</td></tr>
<tr class="separator:a1213214b0456d97157d5924cb6f708c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd350942aa58fa44160bbe288443913" id="r_a6bd350942aa58fa44160bbe288443913"><td class="memItemLeft" align="right" valign="top"><a id="a6bd350942aa58fa44160bbe288443913" name="a6bd350942aa58fa44160bbe288443913"></a>
static time_point&#160;</td><td class="memItemRight" valign="bottom"><b>reported_ticks</b> ()</td></tr>
<tr class="separator:a6bd350942aa58fa44160bbe288443913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af32cb259ff702e524a5960a6440b1c" id="r_a5af32cb259ff702e524a5960a6440b1c"><td class="memItemLeft" align="right" valign="top"><a id="a5af32cb259ff702e524a5960a6440b1c" name="a5af32cb259ff702e524a5960a6440b1c"></a>
static time_point&#160;</td><td class="memItemRight" valign="bottom"><b>acknowledged_ticks</b> ()</td></tr>
<tr class="separator:a5af32cb259ff702e524a5960a6440b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250c90b018908a8ca7c2d11676b07778" id="r_a250c90b018908a8ca7c2d11676b07778"><td class="memItemLeft" align="right" valign="top"><a id="a250c90b018908a8ca7c2d11676b07778" name="a250c90b018908a8ca7c2d11676b07778"></a>
static time_point&#160;</td><td class="memItemRight" valign="bottom"><b>now_with_init_done</b> ()</td></tr>
<tr class="separator:a250c90b018908a8ca7c2d11676b07778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c7f242f876b18902f2dd02ebc54ba4" id="r_af9c7f242f876b18902f2dd02ebc54ba4"><td class="memItemLeft" align="right" valign="top"><a id="af9c7f242f876b18902f2dd02ebc54ba4" name="af9c7f242f876b18902f2dd02ebc54ba4"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>set_wake_time</b> (time_point wake_time)</td></tr>
<tr class="separator:af9c7f242f876b18902f2dd02ebc54ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a16f489804b5710df21d796f4f8807bb5" id="r_a16f489804b5710df21d796f4f8807bb5"><td class="memItemLeft" align="right" valign="top"><a id="a16f489804b5710df21d796f4f8807bb5" name="a16f489804b5710df21d796f4f8807bb5"></a>
static constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_steady</b> = true</td></tr>
<tr class="separator:a16f489804b5710df21d796f4f8807bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A C++11 chrono TrivialClock for os_timer</p>
<p>Due to the nature of OsTimer/SysTimer, this does not have a single <code>now</code> method, but has multiple ways to report the current state: </p><pre class="fragment"> High-res timeline -------------------------------------------------------------
 Ticks               |  a  |  b  |  b  |  b  |  c  |  c  |  c  |  c  |  c  | d ^
                           ^                 ^                             ^   os_timer-&gt;get_time()
                    acknowledged_ticks()   reported_ticks()               now()
</pre><p>(a) is time read from hardware by OsTimer, reported to the user of OsTimer, and acknowledged by that user. (b) is time read from hardware by OsTimer, reported to the user of OsTimer, but not yet acknowledged. (c) is time already elapsed in the hardware but yet to be read and processed as ticks by OsTimer. (d) is time already elapsed in the hardware that doesn't yet form a tick.</p>
<p>Time is "reported" either by:</p><ul>
<li>calls to the OsTimer's handler following start_tick - these must be acknowledged</li>
<li>the result of <a class="el" href="classmbed_1_1internal_1_1SysTimer.html#aac4027a7463bcd4bd9ee7a10d5879f58">OsTimer::update_and_get_tick()</a> / OsClock::now() - calling this implies acknowledgment.</li>
</ul>
<p>As such <code>now()</code> is used when the ticker is not in use - it processes ticks that would have been processed by the tick handler. If the ticker is in uses <code>reported_ticks</code> or <code>acknowleged_ticks</code> must be used.</p>
<dl class="section note"><dt>Note</dt><dd>To fit better into the chrono framework, <a class="el" href="structmbed_1_1internal_1_1OsClock.html">OsClock</a> uses chrono::milliseconds as its representation, which makes it signed and at least 45 bits, so it will be int64_t or equivalent, unlike OsTimer which uses uint64_t rep. </dd></dl>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/zoe/Mbed Programs/esp_code/mbed-os/platform/include/platform/internal/<a class="el" href="mbed__os__timer_8h_source.html">mbed_os_timer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mbed</b></li><li class="navelem"><b>internal</b></li><li class="navelem"><a class="el" href="structmbed_1_1internal_1_1OsClock.html">OsClock</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
