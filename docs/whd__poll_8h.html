<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP API: /home/zoe/Mbed Programs/esp_code/mbed-os/connectivity/drivers/wifi/COMPONENT_WHD/wifi-host-driver/src/include/whd_poll.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('whd__poll_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">whd_poll.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="whd_8h_source.html">whd.h</a>&quot;</code><br />
</div>
<p><a href="whd__poll_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac7aa15a3c289542b174d56ef90069d27" id="r_ac7aa15a3c289542b174d56ef90069d27"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7aa15a3c289542b174d56ef90069d27">whd_thread_send_one_packet</a> (<a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a> <a class="el" href="structwhd__driver.html">whd_driver</a>)</td></tr>
<tr class="separator:ac7aa15a3c289542b174d56ef90069d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963c622e5fbf016e2335f056e09e48f9" id="r_a963c622e5fbf016e2335f056e09e48f9"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a963c622e5fbf016e2335f056e09e48f9">whd_thread_receive_one_packet</a> (<a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a> <a class="el" href="structwhd__driver.html">whd_driver</a>)</td></tr>
<tr class="separator:a963c622e5fbf016e2335f056e09e48f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeeb9dfaa975c9a57263f80d422f1056" id="r_aeeeb9dfaa975c9a57263f80d422f1056"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeeeb9dfaa975c9a57263f80d422f1056">whd_thread_poll_all</a> (<a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a> <a class="el" href="structwhd__driver.html">whd_driver</a>)</td></tr>
<tr class="separator:aeeeb9dfaa975c9a57263f80d422f1056"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for using WHD with no RTOS or network stack</p>
<p>It is possible to use these WHD without any operating system. To do this, the user application is required to periodically use the functions in this file to allow WHD to send and receive data across the SPI/SDIO bus. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aeeeb9dfaa975c9a57263f80d422f1056" name="aeeeb9dfaa975c9a57263f80d422f1056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeeb9dfaa975c9a57263f80d422f1056">&#9670;&#160;</a></span>whd_thread_poll_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t whd_thread_poll_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a></td>          <td class="paramname"><span class="paramname"><em>whd_driver</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends and Receives all waiting packets</p>
<p>Repeatedly calls whd_thread_send_one_packet and whd_thread_receive_one_packet to send and receive packets, until there are no more packets waiting to be transferred.</p>
<p>This function is normally used by the WHD Thread, but can be called periodically by systems which have no RTOS to ensure packets get send and received properly.</p>
<dl class="section return"><dt>Returns</dt><dd>1 : packet was sent or received 0 : no packet was sent or received</dd></dl>
<p>Sends and Receives all waiting packets</p>
<p>Calls whd_thread_send_one_packet and whd_thread_receive_one_packet once to send and receive packets, until there are no more packets waiting to be transferred.</p>
<p>This function is normally used by the WHD Thread, but can be called periodically by systems which have no RTOS to ensure packets get send and received properly.</p>
<p>Note: do not loop in here, to avoid overwriting previously rx-ed packets </p>

</div>
</div>
<a id="a963c622e5fbf016e2335f056e09e48f9" name="a963c622e5fbf016e2335f056e09e48f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a963c622e5fbf016e2335f056e09e48f9">&#9670;&#160;</a></span>whd_thread_receive_one_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t whd_thread_receive_one_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a></td>          <td class="paramname"><span class="paramname"><em>whd_driver</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receives a packet if one is waiting</p>
<p>Checks the wifi chip fifo to determine if there is any packets waiting to be received. If there are, then it receives the first one, and calls the callback whd_sdpcm_process_rx_packet (in <a class="el" href="whd__sdpcm_8c.html">whd_sdpcm.c</a>).</p>
<p>This function is normally used by the WHD Thread, but can be called periodically by systems which have no RTOS to ensure packets get received properly.</p>
<dl class="section return"><dt>Returns</dt><dd>1 : packet was received 0 : no packet waiting </dd></dl>

</div>
</div>
<a id="ac7aa15a3c289542b174d56ef90069d27" name="ac7aa15a3c289542b174d56ef90069d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7aa15a3c289542b174d56ef90069d27">&#9670;&#160;</a></span>whd_thread_send_one_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t whd_thread_send_one_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="whd_8h.html#ac45015d82e65db891b463066873eca4f">whd_driver_t</a></td>          <td class="paramname"><span class="paramname"><em>whd_driver</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sends the first queued packet</p>
<p>Checks the queue to determine if there is any packets waiting to be sent. If there are, then it sends the first one.</p>
<p>This function is normally used by the WHD Thread, but can be called periodically by systems which have no RTOS to ensure packets get sent.</p>
<dl class="section return"><dt>Returns</dt><dd>1 : packet was sent 0 : no packet sent </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5fdebfbd0a4b5643a5e85bf3c8b1558b.html">mbed-os</a></li><li class="navelem"><a class="el" href="dir_456207283565120b441ff9733579e7b8.html">connectivity</a></li><li class="navelem"><a class="el" href="dir_59977a0c207738c890dea4a1d368376e.html">drivers</a></li><li class="navelem"><a class="el" href="dir_465fc08ef7a88ed42de4e140d6385b82.html">wifi</a></li><li class="navelem"><a class="el" href="dir_1b9423912bf40438f61955ac9bacd04e.html">COMPONENT_WHD</a></li><li class="navelem"><a class="el" href="dir_feeac0630cc177413ad420a1ab1d854d.html">wifi-host-driver</a></li><li class="navelem"><a class="el" href="dir_1d773efb32e73e9571eede191b84f14c.html">src</a></li><li class="navelem"><a class="el" href="dir_383a2fc29086a1f38014cee08a89264a.html">include</a></li><li class="navelem"><a class="el" href="whd__poll_8h.html">whd_poll.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
